--- a/test/fpurge.c
+++ b/test/fpurge.c
@@ -29,15 +29,11 @@
 int
 main()
 {
-	static FILE fp_bad;
 	FILE *fp;
 
 	if (fpurge(NULL) == 0)
 		return 1;
 
-	if (fpurge(&fp_bad) == 0)
-		return 1;
-
 	fp = fopen("/dev/zero", "r");
 	if (fpurge(fp) < 0)
 		return 1;
--- a/test/Makefile.in
+++ b/test/Makefile.in
@@ -90,7 +90,7 @@
 check_PROGRAMS = overlay$(EXEEXT) bzero$(EXEEXT) closefrom$(EXEEXT) \
 	endian$(EXEEXT) humanize$(EXEEXT) fgetln$(EXEEXT) \
 	funopen$(EXEEXT) fparseln$(EXEEXT) fpurge$(EXEEXT) \
-	md5$(EXEEXT) nlist$(EXEEXT) proctitle$(EXEEXT) \
+	md5$(EXEEXT) nlist$(EXEEXT) \
 	proctitle-init$(EXEEXT) progname$(EXEEXT) pwcache$(EXEEXT) \
 	setmode$(EXEEXT) strl$(EXEEXT) strmode$(EXEEXT) \
 	strnstr$(EXEEXT) vis$(EXEEXT) vis-openbsd$(EXEEXT) \
