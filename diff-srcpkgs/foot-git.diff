-pkgname=foot
+pkgname=foot-git
+PGO=partial
+_my_field_repo=https://codeberg.org/dnkl/foot.git
+conflicts="foot>=0"
+depends=${depends/${pkgname}-terminfo>=${version}_${revision}/foot-terminfo-git>=${version}_${revision}}
+export CFLAGS+=" -O3"
+export CXXFLAGS+=" -O3"
+hostmakedepends+=" git"
+hostmakedepends=${hostmakedepends/wayland-devel/}
+makedepends=${makedepends/libutf8proc-devel/}
+replaces="foot>=0"
+unset wrksrc
+
+# # steps only for PGO
+# # taken from https://aur.archlinux.org/cgit/aur.git/plain/PKGBUILD?h=foot-git
+# do_build() {
+# 	cd build
+# 
+# 	find -name "*.gcda" -delete
+# 	meson configure -Db_pgo=generate
+# 	ninja
+# 	ninja test
+# 
+# 	local script_options="--scroll --scroll-region --colors-regular --colors-bright --colors-256 --colors-rgb --attr-bold --attr-italic --attr-underline --sixel"
+# 	tmp_file=$(mktemp)
+# 	./footclient --version
+# 	./foot --version
+# 	../scripts/generate-alt-random-writes.py \
+# 		--rows=67 \
+# 		--cols=135 \
+# 		${script_options} \
+# 		${tmp_file}
+# 	./pgo ${tmp_file} ${tmp_file} ${tmp_file}
+# 	rm "${tmp_file}"
+# 
+# 	meson configure -Db_pgo=use
+# 	ninja
+# 	ninja test
+# 
+# 	cd $wrksrc
+# }
+
+# steps only for PGO
+# taken from https://aur.archlinux.org/cgit/aur.git/plain/PKGBUILD?h=foot-git
+do_build() {
+	./pgo/pgo.sh \
+		${PGO} \
+		. build \
+		--prefix=/usr \
+		--wrap-mode=nodownload \
+		-Dterminfo=disabled \
+		-Dthemes=false
+}
+
+
+	vmkdir usr/share/examples/foot/themes
+	vcopy "themes/*" usr/share/examples/foot/themes
-foot-terminfo_package() {
+foot-terminfo-git_package() {
+
+	conflicts="foot-terminfo>=0"
+	replaces="foot-terminfo>=0"
