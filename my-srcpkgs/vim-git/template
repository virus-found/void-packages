# Template file for 'vim-git'
_my_field_ignore=1
_my_field_repo=git://github.com/vim/vim.git
_my_field_skip_version=7714d7b
homepage="https://www.vim.org"
hostmakedepends="git pkg-config"
license="Vim"
maintainer="Orphaned <orphan@voidlinux.org>"
makedepends="libXt-devel ncurses-devel"
pkgname=vim-git
conflicts="vim>=0 vim-common>=0"
replaces="vim>=0 vim-common>=0"
revision=1
short_desc="Vim editor (vi clone)"
version=e770598

do_configure() {
    ./configure \
        --disable-cscope \
        --disable-gpm \
        --disable-luainterp \
        --disable-netbeans \
        --disable-perlinterp \
        --disable-python3interp \
        --disable-pythoninterp \
        --disable-rubyinterp \
        --disable-tclinterp \
        --enable-nls \
        --enable-gui=no \
        --enable-multibyte \
        --enable-terminal \
        --prefix=/usr \
        --with-features=huge \
        --with-tlib=ncursesw \
        --with-x
}

do_build() {
    make
}

do_install() {
    make DESTDIR=$DESTDIR install

    vlicense runtime/doc/uganda.txt LICENSE
    rm -rf $DESTDIR/usr/share/applications

    #vbin src/vim
    #vmove usr/share/icons
    #vmove usr/bin/rvim
    #vmove usr/bin/vim-ex
    #vmove usr/bin/vimdiff
    #vmove usr/bin/*view
    #vmove usr/bin/vimtutor
    #vmove "usr/share/man/man1/*vim*"
    #vmove usr/share/licenses
    #vmove usr/share/vim
}
