# Template file for 'yt-dlp'
pkgname=yt-dlp
version=07689fc
revision=1
wrksrc="$pkgname"
build_style=python3-module
hostmakedepends="python3-setuptools"
checkdepends="python3-pytest flake8 python3-nose"
short_desc="CLI program to download videos from YouTube and other sites"
maintainer="Michal Vasilek <michal@vasilek.cz>"
license="Unlicense"
homepage="https://github.com/yt-dlp/yt-dlp"
changelog="https://raw.githubusercontent.com/yt-dlp/yt-dlp/master/Changelog.md"

_my_field_repo=https://github.com/yt-dlp/yt-dlp.git
conflicts="yt-dlp>=0"
hostmakedepends+=" git"
pkgname+=-git
replaces="yt-dlp>=0"
unset checksum distfiles wrksrc

do_check() {
	PYTHON=/usr/bin/python3 make offlinetest
}
